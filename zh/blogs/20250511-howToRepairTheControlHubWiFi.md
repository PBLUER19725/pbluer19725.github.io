# control hub的WiFi芯片坏了怎么办

## 案发经过

### [3/20晚自习]

正当新高一（即27届）程电部正在快乐地传程序时，Control Hub的WiFi突然断开。

此时，还没有人意识到问题的严重性。

ZHZ从电脑前离开，跨越了半个社团，从程电部来到工程部，人未到声已至：“你们把车电源拔了？我在传程序诶(>_<)”

程电部的同学们瞬间停下手头的活，围到了车前。

“没有啊，这电源不是连着呢吗？O_o”

“啊？O_o”

ZHZ来到了车前，看向了Control Hub。只见那唯一的彩色LED灯上闪烁的黄光是如此的急促。

“这是啥O_o？”ZHZ没见过这样的指示灯。

旁边的高三学长转头，说：“这是电量过低才闪的。”

我恍然大悟，想起了几分钟前在Driver Hub上看到的“6.73V”。

当时我惊讶于其输入电压之宽，未作细想。

现在想来，要是当时我意识到问题，并拔电源，应该就没有后面的问题了——当然，现在已经晚了。

## 尝试解决

于是，拔电源，换电池——就这么解决了吗？

怀着忐忑不安的心情，看着接上电源后Control Hub闪烁的蓝灯（这是正常的，在robot controller app未启动，Android系统正在启动时就是这么闪的），我们的心渐渐沉入谷底——绿灯没亮。

把手放上Control Hub，发现它烫的惊人。

“哇，好烫！”我说，“这不对吧？”

ZHZ把Control Hub电源拔了，用USB-typeC线连上了电脑。

无事发生。

我思考了一坤秒，去寻找到了奇妙的Micro USB线，连上了电脑。

LED灯亮了起来，随后......

无事发生。

我们面面相觑。

怎么办？

我们决定去REV官网寻找头猪🐷。

FHY找到了一个流程图，告诉我们应该怎么排查问题。顺着流程图，我们下载了一个“REV Hardware Client”app。但是由于没有学校电脑的管理员账户，我们装不了这个软件。

高二学长这时候冒出头：“那就找万能的老朱吧*^O^*！”

朱老师作为我们社团的指导老师，具有高超的工程能力和优秀的程电水准。

最重要的是，他有管理员密码。

于是我们进行了“搬家”仪式——我们把所有要用到的东西搬到了一楼老朱的办公室。

朱老师开了软件，发现：

Control Hub被识别为了Expansion Hub。

O_o？

那我问你，那我问你，Control Hub怎么能被识别成expansion hub？

Android去哪了？tell me, baby, tell me, why?

老朱翻出一根USB-typeC线，连上了电脑，并且给Control Hub接上了电源。

蓝灯亮了。

原来是typeC线不能供电吗？哈基C你这家伙......

我不理解，但我大受震撼。

点开一看，警告⚠️标识映入眼帘。提示：无法连接到Robot Controller app。

于是老朱开始了辛勤的劳作......此时已经到了9:30左右，我们几人就悄悄逃走了。

### [3/21放学后]

老朱说：“我更新了它的系统和软件，但是没有用。”并将棘手的烂摊子交还给了我们。

高三学长提出了一个大胆的想法：“我们给它接个屏幕，看看它在干什么吧*^O^*～”

“！(>_<)”这时我才想起它上面有一个HDMI接口。

左右环顾，只有平常当黑板的Seewo大屏幕可以用来显示。


我们从犄角旮旯里翻出一根线，接上了屏幕。

接电，开机——rev三个大字显示在屏幕上。

等待几秒，我们看到了Robot Controller app的真面目。（有兴趣的可以自己去看哟*^O^*）

第一行提示写着：“network:unknown,disconnected”

第二行经过一阵闪烁，显示：“waiting for network to become active.”

过了几秒，软件闪退了。

随后它就一直重复。

“怪不得它这么烫啊⊙﹏⊙”学长感叹道。

我于是使用ADB将Robot Controller app卸载了，给它接上了键盘。

一顿操作后，我们看到设置里WiFi和蓝牙开关都变得灰暗——这要么是驱动损坏，要么是芯片坏了。（WiFi和蓝牙在同一个芯片上）

我们向朱老师反映了这个情况。

朱老师说：“那就外接一个呗，我正好有。”

朱老师掏出了一个WiFi模块。

我们使出了「外接WiFi」！

Control Hub免疫了攻击，并放出了热量。

朱老师倒下了！

由于时间很晚了，我们怀着复杂的心情离开了学校。

PS:其实这么做是可以的，只是你要自己修改系统内核，把驱动写进去，但是我们既不知道怎么写，也不知道怎么抄。

### [3/25选修课]

我们向REV官方发出了求救信件。

### [3/27社团课]

由于其迟迟不回应，我们又向FTC中国赛事组发出了求救信件。

### [4/1选修课]

我们看到了中国赛事组在3/28回复我们的信件。

根据其上建议，我们交给了朱老师一个艰巨的任务：拆了control hub仔细观察是否有损毁的元件。

但是朱老师没有信。

### [4/3社团课]

我去观察朱老师的情况，朱老师说其实我们还有一个Control Hub。

### [4/10社团课]

朱老师告诉我们他拆开后没有发现明显外伤，只是屏蔽罩内发烫严重。（里面是CPU之类）

### [4/22选修课]

我和朱老师讨论后确定了WiFi模块位置，决定购置一个相同型号的芯片替换。

朱老师强调：这玩意太小了，他不一定能换成。



### [4/29社团课]

我发现朱老师换了一个新的WiFi模块上去。

我又发现他上面的焊点粘起来了。

于是我没有敢插电开机。

### [5/8社团课]

我去观察朱老师的情况，并且掏出了另一个WiFi模块。

朱老师把他焊的芯片拆掉，装上外壳，接上了新的WiFi模块。

插上电源，连上视频线......

成功了吗？

是的，成功了。

看到这里，你一定很好奇为什么之前不能用的外置WiFi模块现在能用了，难道我们趁其不备写了一个驱动吗？

## 解决方案

在5/1假期，我在淘宝搜索我们在control hub上的WiFi模块上看到的丝印之时，除了看到芯片还看到了一些用这个芯片的外置USB网卡。

本来也没意识到什么，直到我点进去看到它说部分Android TV支持。

我顿时意识到：

1. control hub的系统是Android TV。

2. control hub一定有这个芯片的驱动。

所以！有很大概率！control hub能用这个👆🏻！

*^O^*

于是我便买了回来。

在5/8装了上去。

成功了。

## 经验教训

在一次事故后反思是必要的。因此，我们总结出：

- 要及时在低电压时换电池！

- 不要在愚人节跟别人说重要的事情！